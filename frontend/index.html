<script>
  async function add() {
    const desc = document.getElementById('desc').value;
    const amount = document.getElementById('amount').value;

    if (!desc || !amount) {
      alert("Please enter both description and amount.");
      return;
    }

    await fetch('https://budget-manager-3ses.onrender.com/api/budget', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ desc, amount })
    });

    document.getElementById('desc').value = '';
    document.getElementById('amount').value = '';
    load();
  }

  async function load() {
    const res = await fetch('https://budget-manager-3ses.onrender.com/api/budget');
    const data = await res.json();

    const list = document.getElementById('list');
    list.innerHTML = data.map(item =>
      `<li><span class="desc">${item.desc}</span><span class="amt">â‚¹${item.amount}</span></li>`
    ).join('');
  }

  load();
</script>
